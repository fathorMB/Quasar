(function(w,o){typeof exports=="object"&&typeof module<"u"?o(exports,require("react"),require("axios"),require("@microsoft/signalr"),require("react-router-dom")):typeof define=="function"&&define.amd?define(["exports","react","axios","@microsoft/signalr","react-router-dom"],o):(w=typeof globalThis<"u"?globalThis:w||self,o(w.QuasarUiReact={},w.React,w.axios,w.signalR,w.ReactRouterDOM))})(this,(function(w,o,F,de,N){"use strict";function fe(s){const r=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(s){for(const a in s)if(a!=="default"){const d=Object.getOwnPropertyDescriptor(s,a);Object.defineProperty(r,a,d.get?d:{enumerable:!0,get:()=>s[a]})}}return r.default=s,Object.freeze(r)}const me=fe(de);var L={exports:{}},O={};var B;function he(){if(B)return O;B=1;var s=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(d,u,i){var m=null;if(i!==void 0&&(m=""+i),u.key!==void 0&&(m=""+u.key),"key"in u){i={};for(var f in u)f!=="key"&&(i[f]=u[f])}else i=u;return u=i.ref,{$$typeof:s,type:d,key:m,ref:u!==void 0?u:null,props:i}}return O.Fragment=r,O.jsx=a,O.jsxs=a,O}var R={};var Q;function pe(){return Q||(Q=1,process.env.NODE_ENV!=="production"&&(function(){function s(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Oe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _:return"Fragment";case I:return"Profiler";case E:return"StrictMode";case Ee:return"Suspense";case Ce:return"SuspenseList";case Pe:return"Activity"}if(typeof e=="object")switch(typeof e.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),e.$$typeof){case S:return"Portal";case A:return e.displayName||"Context";case T:return(e._context.displayName||"Context")+".Consumer";case U:var c=e.render;return e=e.displayName,e||(e=c.displayName||c.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ae:return c=e.displayName||null,c!==null?c:s(e.type)||"Memo";case z:c=e._payload,e=e._init;try{return s(e(c))}catch{}}return null}function r(e){return""+e}function a(e){try{r(e);var c=!1}catch{c=!0}if(c){c=console;var v=c.error,b=typeof Symbol=="function"&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object";return v.call(c,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",b),r(e)}}function d(e){if(e===_)return"<>";if(typeof e=="object"&&e!==null&&e.$$typeof===z)return"<...>";try{var c=s(e);return c?"<"+c+">":"<...>"}catch{return"<...>"}}function u(){var e=q.A;return e===null?null:e.getOwner()}function i(){return Error("react-stack-top-frame")}function m(e){if(ae.call(e,"key")){var c=Object.getOwnPropertyDescriptor(e,"key").get;if(c&&c.isReactWarning)return!1}return e.key!==void 0}function f(e,c){function v(){oe||(oe=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",c))}v.isReactWarning=!0,Object.defineProperty(e,"key",{get:v,configurable:!0})}function j(){var e=s(this.type);return ie[e]||(ie[e]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),e=this.props.ref,e!==void 0?e:null}function p(e,c,v,b,$,J){var k=v.ref;return e={$$typeof:g,type:e,key:c,props:v,_owner:b},(k!==void 0?k:null)!==null?Object.defineProperty(e,"ref",{enumerable:!1,get:j}):Object.defineProperty(e,"ref",{enumerable:!1,value:null}),e._store={},Object.defineProperty(e._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(e,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(e,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:$}),Object.defineProperty(e,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:J}),Object.freeze&&(Object.freeze(e.props),Object.freeze(e)),e}function n(e,c,v,b,$,J){var k=c.children;if(k!==void 0)if(b)if(Re(k)){for(b=0;b<k.length;b++)l(k[b]);Object.freeze&&Object.freeze(k)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else l(k);if(ae.call(c,"key")){k=s(e);var P=Object.keys(c).filter(function(Ie){return Ie!=="key"});b=0<P.length?"{key: someKey, "+P.join(": ..., ")+": ...}":"{key: someKey}",ue[k+b]||(P=0<P.length?"{"+P.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,b,k,P,k),ue[k+b]=!0)}if(k=null,v!==void 0&&(a(v),k=""+v),m(c)&&(a(c.key),k=""+c.key),"key"in c){v={};for(var W in c)W!=="key"&&(v[W]=c[W])}else v=c;return k&&f(v,typeof e=="function"?e.displayName||e.name||"Unknown":e),p(e,k,v,u(),$,J)}function l(e){h(e)?e._store&&(e._store.validated=1):typeof e=="object"&&e!==null&&e.$$typeof===z&&(e._payload.status==="fulfilled"?h(e._payload.value)&&e._payload.value._store&&(e._payload.value._store.validated=1):e._store&&(e._store.validated=1))}function h(e){return typeof e=="object"&&e!==null&&e.$$typeof===g}var x=o,g=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),A=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),Pe=Symbol.for("react.activity"),Oe=Symbol.for("react.client.reference"),q=x.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=Object.prototype.hasOwnProperty,Re=Array.isArray,D=console.createTask?console.createTask:function(){return null};x={react_stack_bottom_frame:function(e){return e()}};var oe,ie={},ce=x.react_stack_bottom_frame.bind(x,i)(),le=D(d(i)),ue={};R.Fragment=_,R.jsx=function(e,c,v){var b=1e4>q.recentlyCreatedOwnerStacks++;return n(e,c,v,!1,b?Error("react-stack-top-frame"):ce,b?D(d(e)):le)},R.jsxs=function(e,c,v){var b=1e4>q.recentlyCreatedOwnerStacks++;return n(e,c,v,!0,b?Error("react-stack-top-frame"):ce,b?D(d(e)):le)}})()),R}var V;function ge(){return V||(V=1,process.env.NODE_ENV==="production"?L.exports=he():L.exports=pe()),L.exports}var t=ge();const y=F.create({baseURL:"/auth",headers:{"Content-Type":"application/json"},withCredentials:!0});y.interceptors.request.use(s=>{const r=localStorage.getItem("accessToken");return r&&(s.headers.Authorization=`Bearer ${r}`),s},s=>Promise.reject(s)),y.interceptors.response.use(s=>s,async s=>{const r=s.config;if(s.response?.status===401&&r){const i=localStorage.getItem("refreshToken");if(i&&!r._retry){r._retry=!0;try{const m=await F.post("/auth/token/refresh",{refreshToken:i}),{accessToken:f,refreshToken:j}=m.data;return localStorage.setItem("accessToken",f),localStorage.setItem("refreshToken",j),r.headers.Authorization=`Bearer ${f}`,y(r)}catch(m){return localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.location.href="/login",Promise.reject(m)}}}const a=s.config?.url?.endsWith("/login"),d=s.response?.data;if(s.response?.status===401&&d?.code==="SESSION_REVOKED"){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.dispatchEvent(new CustomEvent("session-revoked",{detail:{message:d.message}}));const i={message:d.message,statusCode:401};return Promise.reject(i)}const u={message:s.response?.status===401&&a?"Invalid username or password":d?.message||s.message||"An error occurred",statusCode:s.response?.status||500};return Promise.reject(u)});const G={login:async s=>{const r=await y.post("/login",s);return localStorage.setItem("accessToken",r.data.accessToken),localStorage.setItem("refreshToken",r.data.refreshToken),r.data},register:async s=>(await y.post("/register",s)).data,refreshToken:async s=>{const r=await y.post("/token/refresh",s);return localStorage.setItem("accessToken",r.data.accessToken),localStorage.setItem("refreshToken",r.data.refreshToken),r.data},logout:async()=>{const s=localStorage.getItem("refreshToken");if(s)try{await y.post("/logout",{refreshToken:s})}catch(r){console.error("Logout error:",r)}localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")},isAuthenticated:()=>!!localStorage.getItem("accessToken")},H={list:async()=>(await y.get("/users")).data,getRoles:async s=>(await y.get(`/users/${s}/roles`)).data,getPermissions:async s=>(await y.get(`/users/${s}/permissions`)).data,assignRole:async(s,r)=>{await y.post(`/users/${s}/roles`,r)},revokeRole:async(s,r)=>{await y.delete(`/users/${s}/roles/${r}`)},resetPassword:async s=>(await y.post(`/users/${s}/reset-password`)).data.password,resetOwnPassword:async()=>(await y.post("/users/me/reset-password")).data.password,delete:async s=>{await y.delete(`/users/${s}`)}},ve={async list(){return(await y.get("/api/features",{baseURL:"/"})).data},async listDirect(){return(await F.get("/api/features",{headers:we(),withCredentials:!0})).data}};function we(){const s=localStorage.getItem("accessToken");return s?{Authorization:`Bearer ${s}`}:{}}const X=o.createContext(void 0),M=()=>{const s=o.useContext(X);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s},be=({children:s})=>{const[r,a]=o.useState(null),[d,u]=o.useState(!0);o.useEffect(()=>{i()},[]);const i=async()=>{try{const n=localStorage.getItem("accessToken");if(n){const l=m(n);console.log("Decoded payload:",l);const h=l.sub,x=l.unique_name||l.name||"User";let g=[];try{console.log("Fetching roles for userId:",h);const S=await H.getRoles(h);console.log("Fetched userRoles:",S),g=S.map(_=>_.name),console.log("Mapped roles:",g)}catch(S){console.error("Failed to fetch roles",S)}a({id:h,username:x,email:l.email||"",roles:g})}else a(null)}catch(n){console.error("Auth check failed:",n),a(null)}finally{u(!1)}};function m(n){var l=n.split(".")[1],h=l.replace(/-/g,"+").replace(/_/g,"/"),x=decodeURIComponent(window.atob(h).split("").map(function(g){return"%"+("00"+g.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(x)}const p={user:r,isAuthenticated:!!r,isLoading:d,login:async n=>{u(!0);try{await G.login(n),await i()}catch(l){throw a(null),l}finally{u(!1)}},logout:async()=>{u(!0);try{await G.logout()}catch(n){console.error("Logout error:",n)}finally{a(null),u(!1)}}};return t.jsx(X.Provider,{value:p,children:s})};class ke{connection=null;listeners=[];async start(){if(!this.connection){this.connection=new me.HubConnectionBuilder().withUrl("/hubs/notifications",{accessTokenFactory:()=>localStorage.getItem("accessToken")||""}).withAutomaticReconnect().build(),this.connection.on("ReceiveNotification",r=>{this.listeners.forEach(a=>a(r))});try{await this.connection.start(),console.log("Notification SignalR Connected")}catch(r){console.error("Notification SignalR Connection Error: ",r),this.connection=null}}}stop(){this.connection&&(this.connection.stop(),this.connection=null)}subscribe(r){return this.listeners.push(r),()=>{this.listeners=this.listeners.filter(a=>a!==r)}}}const C=new ke,xe=async()=>{const s=localStorage.getItem("accessToken");if(!s)return[];try{const r=await fetch("/api/player/notifications",{headers:{Authorization:`Bearer ${s}`}});if(r.status===401)return[];if(!r.ok)throw new Error("Failed to fetch notifications");return await r.json()}catch(r){return console.error("Error fetching notifications:",r),[]}},ye=async s=>{const r=localStorage.getItem("accessToken");if(r)try{await fetch(`/api/player/notifications/${s}/read`,{method:"POST",headers:{Authorization:`Bearer ${r}`}})}catch(a){console.error("Error marking notification as read:",a)}},je=async()=>{const s=localStorage.getItem("accessToken");if(s)try{await fetch("/api/player/notifications/read-all",{method:"POST",headers:{Authorization:`Bearer ${s}`}})}catch(r){console.error("Error marking all notifications as read:",r)}},Z=o.createContext(void 0),Ne=({children:s})=>{const[r,a]=o.useState([]),{isAuthenticated:d}=M(),u=r.filter(p=>!p.read).length,i=o.useCallback(p=>{const n={...p,id:Math.random().toString(36).substring(2,9),timestamp:new Date,read:!1};a(l=>[n,...l].slice(0,50))},[]);o.useEffect(()=>{let p=!0;(async()=>{if(!d){a([]),C.stop();return}C.stop(),await C.start();const h=await xe();if(p){const x=h.map(g=>({id:g.id,title:g.title,message:g.message,type:g.type,timestamp:new Date(g.createdAt),read:g.isRead}));a(g=>{const S=new Set(g.map(E=>E.id));return[...x.filter(E=>!S.has(E.id)),...g].sort((E,I)=>I.timestamp.getTime()-E.timestamp.getTime())})}})();const l=C.subscribe(h=>{i({title:h.title,message:h.message,type:h.type})});return()=>{p=!1,l()}},[d,i]);const m=o.useCallback(p=>{ye(p),a(n=>n.map(l=>l.id===p?{...l,read:!0}:l))},[]),f=o.useCallback(()=>{je(),a(p=>p.map(n=>({...n,read:!0})))},[]),j=o.useCallback(()=>{a([])},[]);return t.jsx(Z.Provider,{value:{notifications:r,unreadCount:u,addNotification:i,markAsRead:m,markAllAsRead:f,clearNotifications:j},children:s})},K=()=>{const s=o.useContext(Z);if(!s)throw new Error("useNotifications must be used within a NotificationProvider");return s},ee=o.createContext(void 0),Te=({children:s})=>{const[r,a]=o.useState(null),[d,u]=o.useState(!0),[i,m]=o.useState([]),[f,j]=o.useState([]);return o.useEffect(()=>{(async()=>{try{const n=await fetch("/api/config/ui");if(n.ok){const l=await n.json();a(l);const h=`theme-${l.theme||"dark"}`;document.documentElement.className=h}}catch(n){console.error("Failed to fetch UI settings:",n),document.documentElement.className="theme-dark"}finally{u(!1)}})(),Array.isArray(window.__QUASAR_CUSTOM_MENU__)&&m(window.__QUASAR_CUSTOM_MENU__),Array.isArray(window.__QUASAR_CUSTOM_ROUTES__)&&j(window.__QUASAR_CUSTOM_ROUTES__)},[]),t.jsx(ee.Provider,{value:{settings:r,isLoading:d,customMenu:i,customRoutes:f},children:s})},Y=()=>{const s=o.useContext(ee);if(!s)throw new Error("useUi must be used within a UiProvider");return s},se=o.createContext(void 0),Se=({children:s})=>{const[r,a]=o.useState([]),[d,u]=o.useState(!0);o.useEffect(()=>{(async()=>{try{const f=await ve.list();a(f)}catch(f){console.error("Failed to fetch features:",f)}finally{u(!1)}})()},[]);const i=m=>r.some(f=>f.id===m);return t.jsx(se.Provider,{value:{features:r,isLoading:d,hasFeature:i},children:s})},te=()=>{const s=o.useContext(se);if(!s)throw new Error("useFeatures must be used within a FeatureProvider");return s},re=()=>{const{notifications:s,unreadCount:r,addNotification:a,markAsRead:d,markAllAsRead:u}=K(),[i,m]=o.useState(!1),f=o.useRef(null);o.useEffect(()=>{const n=C.subscribe(l=>{a({title:l.title,message:l.message,type:l.type})});return C.start(),()=>{n()}},[a]),o.useEffect(()=>{const n=l=>{f.current&&!f.current.contains(l.target)&&m(!1)};return i&&document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[i]);const j=n=>{const h=new Date().getTime()-n.getTime(),x=Math.floor(h/6e4);if(x<1)return"Just now";if(x<60)return`${x}m ago`;const g=Math.floor(x/60);return g<24?`${g}h ago`:n.toLocaleDateString()},p=n=>{d(n)};return t.jsxs("div",{className:"notifications-container",ref:f,children:[t.jsxs("button",{className:"bell-button",onClick:()=>m(!i),"aria-label":"Notifications",children:[t.jsx("span",{children:"ðŸ””"}),r>0&&t.jsx("span",{className:"notification-badge",children:r>9?"9+":r})]}),i&&t.jsxs("div",{className:"notifications-dropdown",children:[t.jsxs("div",{className:"notifications-header",children:[t.jsx("h3",{children:"Notifications"}),r>0&&t.jsx("button",{className:"mark-all-btn",onClick:u,children:"Mark all as read"})]}),t.jsx("div",{className:"notifications-list",children:s.length===0?t.jsx("div",{className:"empty-notifications",children:"No notifications yet"}):s.map(n=>t.jsxs("div",{className:`notification-item ${n.read?"read":"unread"}`,onClick:()=>p(n.id),children:[t.jsxs("div",{className:"notification-item-header",children:[t.jsx("span",{className:`notification-title type-${n.type}`,children:n.title}),t.jsx("span",{className:"notification-time",children:j(n.timestamp)})]}),t.jsx("div",{className:"notification-message",children:n.message})]},n.id))})]})]})},ne=()=>{const{user:s,logout:r}=M(),[a,d]=o.useState(!1),[u,i]=o.useState(null),[m,f]=o.useState(!1),[j,p]=o.useState(!1),n=N.useNavigate(),l=o.useRef(null),h=async()=>{await r(),n("/login")},x=async()=>{f(!0),d(!1)},g=async()=>{try{const T=await H.resetOwnPassword();i(T),f(!1)}catch(T){console.error("Failed to change password:",T),alert("Failed to change password"),f(!1)}};o.useEffect(()=>{const T=A=>{l.current&&!l.current.contains(A.target)&&d(!1)};return document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[]);const{pathname:S}=N.useLocation(),{customMenu:_}=Y(),I=(()=>{const A=(_.length>0?_:window.__QUASAR_CUSTOM_MENU__||[]).flatMap(U=>U.items).find(U=>U.path===S);if(A)return A.label;switch(S){case"/":return"Dashboard";case"/users":return"Users";case"/roles":return"Roles";case"/features":return"Features";case"/jobs":return"Jobs";case"/logs":return"Logs";case"/metrics":return"Metrics";case"/sessions":return"Sessions";default:return"Dashboard"}})();return t.jsxs(t.Fragment,{children:[t.jsxs("header",{className:"app-header",children:[t.jsx("div",{className:"header-left",children:t.jsx("h2",{className:"page-title",children:I})}),t.jsxs("div",{className:"header-right",children:[t.jsx(re,{}),t.jsxs("div",{className:"user-profile",children:[t.jsxs("div",{className:"user-info",children:[t.jsx("span",{className:"user-name",children:s?.username||"Guest"}),t.jsx("span",{className:"user-role",children:s?.roles?.[0]||"User"})]}),t.jsx("div",{className:"user-avatar",children:s?.username?.charAt(0).toUpperCase()||"U"})]}),t.jsxs("div",{className:"menu-container",ref:l,children:[t.jsx("button",{className:"menu-button","aria-label":"Menu",onClick:()=>d(!a),children:t.jsx("span",{className:"menu-icon",children:"â‹®"})}),a&&t.jsxs("div",{className:"dropdown-menu",children:[t.jsx("button",{onClick:x,className:"dropdown-item",children:"Change Password"}),t.jsx("button",{onClick:h,className:"dropdown-item danger",children:"Sign Out"})]})]})]})]}),m&&t.jsx("div",{className:"modal-overlay",onClick:()=>f(!1),children:t.jsxs("div",{className:"modal",onClick:T=>T.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Confirm Password Change"}),t.jsx("button",{className:"modal-close",onClick:()=>f(!1),children:"Ã—"})]}),t.jsxs("div",{className:"modal-body",children:[t.jsx("p",{children:"Generate a new password?"}),t.jsx("p",{className:"text-muted",style:{marginTop:"var(--spacing-md)"},children:"You will be logged out and need to login with the new password."}),t.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)",marginTop:"var(--spacing-lg)"},children:[t.jsx("button",{className:"btn btn-secondary",onClick:()=>f(!1),style:{flex:1},children:"Cancel"}),t.jsx("button",{className:"btn btn-primary",onClick:g,style:{flex:1},children:"Change Password"})]})]})]})}),u&&t.jsx("div",{className:"modal-overlay",onClick:()=>{i(null),h()},children:t.jsxs("div",{className:"modal",onClick:T=>T.stopPropagation(),children:[t.jsx("div",{className:"modal-header",children:t.jsx("h2",{className:"modal-title",children:"Password Changed Successfully"})}),t.jsxs("div",{className:"modal-body",children:[t.jsx("p",{children:"Your new password is:"}),t.jsxs("div",{className:"password-display",style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)",padding:"var(--spacing-md)",background:"var(--color-bg-secondary)",borderRadius:"var(--radius-md)"},children:[t.jsx("code",{style:{flex:1,fontSize:"var(--font-size-base)",fontWeight:"bold"},children:u}),t.jsx("button",{className:"btn btn-sm btn-secondary",onClick:()=>{navigator.clipboard.writeText(u),p(!0),setTimeout(()=>p(!1),2e3)},children:j?"âœ“ Copied!":"ðŸ“‹ Copy"})]}),t.jsx("p",{className:"warning",style:{marginTop:"var(--spacing-md)",padding:"var(--spacing-md)",background:"var(--color-warning-bg)",border:"1px solid var(--color-warning)",borderRadius:"var(--radius-md)"},children:"âš ï¸ Save this password now. You will be logged out."}),t.jsx("button",{className:"btn btn-primary",onClick:()=>{i(null),h()},style:{marginTop:"var(--spacing-lg)",width:"100%"},children:"Logout Now"})]})]})})]})},_e=({children:s})=>{const{user:r,logout:a}=M(),{settings:d,customMenu:u}=Y(),{hasFeature:i}=te(),m=N.useNavigate(),f=async()=>{await a(),m("/login")};return t.jsxs("div",{className:"main-layout",children:[t.jsxs("aside",{className:"sidebar",children:[t.jsx("div",{className:"sidebar-header",children:t.jsxs("div",{className:"logo",children:[t.jsx("div",{className:"logo-icon",children:d?.logoSymbol||"Q"}),t.jsx("span",{className:"logo-text",children:d?.applicationName||"Quasar"})]})}),t.jsxs("nav",{className:"sidebar-nav",children:[u.map((j,p)=>t.jsxs("div",{className:"nav-section",children:[j.title&&t.jsx("h3",{className:"nav-section-title",children:j.title}),j.items.map((n,l)=>n.roles&&!n.roles.some(h=>r?.roles?.includes(h))||n.feature&&!i(n.feature)?null:t.jsx(N.Link,{to:n.path,className:"nav-link",children:t.jsx("span",{children:n.label})},`custom-item-${l}-${n.path}`))]},`custom-${p}`)),r?.roles?.includes("administrator")&&d?.showAdminMenu!==!1&&t.jsxs("div",{className:"nav-section",children:[t.jsx("h3",{className:"nav-section-title",children:"Administration"}),t.jsx(N.Link,{to:"/users",className:"nav-link",children:t.jsx("span",{children:"Users"})}),t.jsx(N.Link,{to:"/roles",className:"nav-link",children:t.jsx("span",{children:"Roles"})}),t.jsx(N.Link,{to:"/features",className:"nav-link",children:t.jsx("span",{children:"Features"})}),t.jsx(N.Link,{to:"/logs",className:"nav-link",children:t.jsx("span",{children:"Logs"})}),t.jsx(N.Link,{to:"/sessions",className:"nav-link",children:t.jsx("span",{children:"Sessions"})}),i("scheduler")&&t.jsx(N.Link,{to:"/jobs",className:"nav-link",children:t.jsx("span",{children:"Jobs"})}),i("telemetry")&&t.jsx(N.Link,{to:"/metrics",className:"nav-link",children:t.jsx("span",{children:"Metrics"})})]})]}),t.jsx("div",{className:"sidebar-footer",children:t.jsx("button",{onClick:f,className:"btn btn-secondary w-full btn-sm",children:"Sign Out"})})]}),t.jsxs("div",{className:"content-wrapper",children:[t.jsx(ne,{}),t.jsx("main",{className:`main-content ${N.Outlet?.type?.layoutOptions?.noPadding?"no-padding":""}`,children:s||t.jsx(N.Outlet,{})})]})]})};w.AuthProvider=be,w.FeatureProvider=Se,w.Header=ne,w.MainLayout=_e,w.NotificationBell=re,w.NotificationProvider=Ne,w.UiProvider=Te,w.useAuth=M,w.useFeatures=te,w.useNotifications=K,w.useUi=Y,Object.defineProperty(w,Symbol.toStringTag,{value:"Module"})}));
